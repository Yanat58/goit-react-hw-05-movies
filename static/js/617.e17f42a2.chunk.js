(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[617],{4254:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(1087),a=n(2007),i=n.n(a),o=n(3208),c={movcard__list:"MovieCard_movcard__list__Nvqci",movcard__item:"MovieCard_movcard__item__BfRtc",film__name:"MovieCard_film__name__48e-E",film__poster:"MovieCard_film__poster__GccE3"},s=n(184),u=function(e){var t=e.id,n=e.original_title,a=e.poster_path,i=e.activeId,u=e.location;return(0,s.jsx)("section",{className:c.container,children:(0,s.jsx)("ul",{className:c.movcard__list,children:(0,s.jsx)("li",{className:c.movcard__item,children:(0,s.jsxs)(r.rU,{to:"/movies/".concat(i),state:{from:u},children:[(0,s.jsx)("img",{className:c.film__poster,src:a?"https://image.tmdb.org/t/p/w500/".concat(a):o,alt:n}),(0,s.jsx)("p",{className:c.film__name,children:n||(0,s.jsx)("span",{className:c.non__title,children:"Movie without a title"})})]})},t)})})};u.prototype={id:i().number,title:i().string,poster_path:i().string,activeId:i().number.isRequired,location:i().shape({state:i().string})};var l=u},8617:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var r=n(3433),a=n(9439),i=n(2791),o=n(1087),c=n(7596),s=n(5861),u=n(7757),l=n.n(u),p="https://api.themoviedb.org/3/",m="a961e99727987689b5a0d0e9241df951";function f(){return(f=(0,s.Z)(l().mark((function e(t,n){var r,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(p,"/search/movie?api_key=").concat(m,"&query=").concat(t,"&page=").concat(n,"&language=en-US"));case 3:return r=e.sent,e.next=6,r.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}var _=function(e,t){return f.apply(this,arguments)},v=n(7689),d=n(4254),h="SearchMoviesList_movlist__list__7iNoV",g=n(184),x=function(e){var t=e.movies,n=(e.value,(0,v.TH)());return(0,g.jsx)(g.Fragment,{children:t&&t.length>0&&(0,g.jsx)("ul",{className:h,children:null===t||void 0===t?void 0:t.map((function(e){var t=e.id,r=e.original_title,a=e.poster_path,i=e.vote_average;return(0,g.jsx)(d.Z,{location:n,title:r,poster_path:a,voteAverage:i,activeId:t},t)}))})})},y=n(2007),b={btn__form:"SearchBar_btn__form__G74b+"},j=function(e){var t=e.onSubmit,n=(0,i.useState)(""),r=(0,a.Z)(n,2),o=r[0],s=r[1];return(0,g.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==o.trim()?(t(o),s("")):c.Am.error("Enter a search term.")},children:[(0,g.jsx)("input",{className:b.input,type:"text",value:o,autoComplete:"off",autoFocus:!0,placeholder:"Search film",onChange:function(e){s(e.currentTarget.value.trim())}}),(0,g.jsx)("button",{className:b.btn__form,type:"submit",children:"Search"})]})};j.propType={onSubmit:n.n(y)().func.isRequired};var S=j,w=function(){var e,t,n=(0,i.useState)([]),s=(0,a.Z)(n,2),u=s[0],l=s[1],p=(0,o.lr)(""),m=(0,a.Z)(p,2),f=m[0],v=m[1],d=null!==(e=f.get("query"))&&void 0!==e?e:"",h=null!==(t=f.get("page"))&&void 0!==t?t:1;(0,i.useEffect)((function(){d&&_(d,h).then((function(e){var t=e.results;l((0,r.Z)(t))})).catch((function(e){return c.Am.error(e.message,"Something went wrong!")}))}),[h,d]);return(0,g.jsxs)("div",{style:{marginLeft:"auto",marginRight:"auto",paddingTop:"30px",paddingLeft:"30px",paddingRight:"30px"},children:[(0,g.jsx)(S,{onSubmit:function(e){v({query:e,page:1})}}),u&&(0,g.jsx)(x,{movies:u,value:d})]})}},888:function(e,t,n){"use strict";var r=n(9047);function a(){}function i(){}i.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,i,o){if(o!==r){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:a};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3208:function(e,t,n){"use strict";e.exports=n.p+"static/media/meh2.9d6aef3acf8e372c9aa3.png"},5861:function(e,t,n){"use strict";function r(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var o=e.apply(t,n);function c(e){r(o,a,i,c,s,"next",e)}function s(e){r(o,a,i,c,s,"throw",e)}c(void 0)}))}}n.d(t,{Z:function(){return a}})}}]);
//# sourceMappingURL=617.e17f42a2.chunk.js.map